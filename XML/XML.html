<!DOCTYPE html>
<html>

<head>
	<title>
		XML
	</title>
</head>

<body>
	<h1>XML</h1>
	<h2>Aspectos básicos</h2>
	<ul>
		<li>XML es un lenguaje de marcado extensible (Extensible Markup Lenguage) como lo es por ejemplo HTML.</li>
		<li>Es un meta-lenguaje que permite definir otros lenguajes de marcas.</li>
		<li>Desarrollado por W3C (World Wide Web Consortium).</li>
		<li>Utilizado para almacenar datos de forma legible.</li>
		<li>Da soporte a bases de datos.</li>
		<li>Útil para la comunicación entre varias aplicaciones.</li>
		<li>Se propone como estándar para el intercambio de información estructurada entre varias plataformas.</li>
		<li>Permite la compatibilidad entre sistemas para compartir información de forma fiable, fácil y segura.</li>
		<li>Puede utilizarse en todo tipo de aplicaciones (en todo lo que nos podamos imaginar): bd, editores de texto, hojas
			de cálculo, etc.</li>
	</ul>

	<h2>
		Estructura de un documento: Sintaxis
	</h2>
	<h2>
		Validación de documentos: DTD y XSD
	</h2>
	<h3 id="DTD">DTD (Document Type Definition)</h3>
	<h4>DTD: Definición</h4>
	<p>
		<ul>
			<li>DTD (Definición de Tipo de Documento).</li>
			<li>Es una descripción de la estructura y la sintaxis de un documento XML.</li>
			<li>Mantiene la consistencia entre todos los documentos que usen el mismo DTD.</li>
			<li>Los documentos XML que se ajustan a su DTD se denominan válidos. Para ello tiene que cumplir en su estructura
				como
				en el tipo de datos.
			</li>
			<li>Podemos guardar la DTD en el mismo fichero aunque normalmente se hace en un fichero aparte.</li>
			<li>Define los elementos, atributos, entidades permitidos así como algunas limitaciones para combinarlos.</li>
		</ul>
	</p>
	<h4>¿Qué describe un DTD?</h4>
	<p>
		<ul>
			<li>Elementos: qué etiquetas permitimos y que valores deben tener.</li>
			<li>Estructura: orden de las etiquetas.</li>
			<li>Anidamiento: qué etiquetas van dentro de otras.</li>
		</ul>
	</p>
	<h4>DTD: Ejemplo</h4>
	<p style="border:solid 1px">
		&lt;!ELEMENT lista_de_personas (persona*)><br>
		&lt;!ELEMENT persona (nombre, fechanacimiento?, sexo?, numeroseguridadsocial?)><br>
		&lt;!ELEMENT nombre (#PCDATA) ><br>
		&lt;!ELEMENT fechanacimiento (#PCDATA) ><br>
		&lt;!ELEMENT sexo (#PCDATA) ><br>
		&lt;!ELEMENT numeroseguridadsocial (#PCDATA)><br>
	</p>
	<ul>
		<li>&lt;!ELEMENT lista_de_personas (persona*)>: indica que &lt;lista_de_personas> es un tag válido. (persona*)
			indica que puede
			contener varios tags &lt;persona></li>
		<li>&lt;!ELEMENT persona (nombre, fechanacimiento?, sexo?, numeroseguridadsocial?)>: indica que &lt;persona> es un
			tag válido y tiene un elemento obligatorio "nombre", y elementos opcionales: fechanacimiento, sexo, y
			numeroseguridadsocial.</li>
		<li>
			&lt;!ELEMENT nombre (#PCDATA)>: indica que &lt;nombre> es un tag válido y contiene caracteres.
		</li>
		<li>
			&lt;!ELEMENT fechanacimiento (#PCDATA)>: indica que &lt;fechanacimiento> es un tag válido y contiene caracteres.
		</li>
		<li>
			&lt;!ELEMENT sexo (#PCDATA)>: indica que &lt;sexo> es un tag válido y que contiene caracteres.
		</li>

		<li>&lt;!ELEMENT numeorseguridadsocial (#PCDATA)>: indica que &lt;numeroseguridadsocial> es un tag válido y que
			contiene caracteres.</li>
	</ul>

	<p>
		Un ejemplo de XML que utiliza esta DTD es:
	</p>
	<p style="border:solid 1px">
		&lt;?xml version="1.0" encoding="ISO-8859-1"?> <br>
		&lt;!DOCTYPE lista_de_personas SYSTEM "ejemplo.dtd"><br>
		&lt;lista_de_personas> <br>
		&lt;persona> <br>
		&nbsp;&nbsp;&nbsp;&nbsp;&lt;nombre>José García&lt;/nombre> <br>
		&nbsp;&nbsp;&nbsp;&nbsp;&lt;fechanacimiento>25/04/1984&lt;/fechanacimiento> <br>
		&nbsp;&nbsp;&nbsp;&nbsp;&lt;sexo>Varón&lt;/sexo> <br>
		&nbsp;&nbsp;&nbsp;&nbsp;&lt;numeroseguridadsocial>0221&lt;/numeroseguridadsocial> <br>
		&lt;/persona> <br>
		&lt;/lista_de_personas>
	</p>

	<h4>DTD: Ejemplo 2</h4>

	<p>El XML:</p>
	<pre style="border: solid 1px">
&lt;?xml version="1.0" encoding="UTF-8" ?>
&lt;!DOCTYPE Edit_Mensaje SYSTEM "Edit_Mensaje.dtd">

&lt;Edit_Mensaje>
		&lt;Mensaje>
		&lt;Remitente>
				&lt;Nombre>Nombre del remitente&lt;/Nombre>
				&lt;Mail> Correo del remitente &lt;/Mail>
			&lt;/Remitente>
			&lt;Destinatario>
				&lt;Nombre>Nombre del destinatario&lt;/Nombre>
				&lt;Mail>Correo del destinatario&lt;/Mail>
			&lt;/Destinatario>
			&lt;Texto>
				&lt;Asunto>
					Este es mi documento con una estructura muy sencilla 
					no contiene atributos ni entidades...
				&lt;/Asunto>
				&lt;Parrafo>
					Este es mi documento con una estructura muy sencilla 
					no contiene atributos ni entidades...
				&lt;/Parrafo>
			&lt;/Texto>
		&lt;/Mensaje>
&lt;/Edit_Mensaje>
	</pre>

	<p>
		El archivo DTD ("Edit_Mensaje.dtd") del XML anterior:
	</p>
	<pre style="border: solid 1px">
&lt;?xml version="1.0" encoding="ISO-8859-1" ?>
&lt;!-- Este es el DTD de Edit_Mensaje -->

&lt;!ELEMENT Mensaje (Remitente, Destinatario, Texto)*>
&lt;!ELEMENT Remitente (Nombre, Mail)>
&lt;!ELEMENT Nombre (#PCDATA)>
&lt;!ELEMENT Mail (#PCDATA)>
&lt;!ELEMENT Destinatario (Nombre, Mail)>
&lt;!ELEMENT Nombre (#PCDATA)>
&lt;!ELEMENT Mail (#PCDATA)>
&lt;!ELEMENT Texto (Asunto, Parrafo)>
&lt;!ELEMENT Asunto (#PCDATA)>
&lt;!ELEMENT Parrafo (#PCDATA)>
	</pre>

	<h3>Ventajas del XML</h3>
	<ul>
		<li>Extensible: podemos crear nuestras propias etiquetas.</li>
		<li>Analizador estándar: no tenemos que crear un análizador distinto cada vez que se cambia de versión de xml.
			Podemos usar cualquier
			analizador disponible evitando bugs y acelerando el desarrollo.
		</li>
		<li>
			Su estructura es fácil de enteder y de procesarla.
		</li>
		<li>
			Mejora la compatibilidad entre aplicaciones: podemos tener una aplicación en Linux que usa una bd en Postgres y
			comunicar los datos
			a otra aplicación en Windows que usa una bd en MySql Server enviando los datos en formato XML.
		</li>
	</ul>

	<h3>Documentos bien formados y control de errores</h3>
	<p>
		Un documento bien formado ("well formed") cumple con las definiciones básicas del formato y por tanto pueden
		analizarse con cualquier analizador sintáctico ("parser"). No hay que confundir que esté bien formado con que valide.
		<ul>
			<li>Los documentos deben seguir una estructura jerárquica.
				<ul>
					<li>Una etiqueta debe estar dentro de otra.</li>
					<li>Las etiquetas tienen que estar correctamente anidadas.</li>
					<li>Los elementos con contenido deben estar correctamente cerrados.</li>
				</ul>
			</li>
			<li>
				Un XML solo puede tener un elemento raíz del que parten todos los demás.
			</li>
			<li>
				Los valores de los atributos en XML deben estar entre comillas simples o dobles.
			</li>
			<li>
				XML es sensible a mayúsculas y minúsculas.
			</li>
			<li>
				Los caracteres: espacios, tabuladores, retornos de carro, saltos de línea se tratan de forma distinta por los
				procesadores
				de XML.
			</li>
		</ul>
	</p>

	<h3>Partes de un documento XML</h3>
	<p>
		Un XML esta formado por el prólogo y por el cuerpo.
	</p>
	<h4 id="prologo">
		Prólogo
	</h4>
	<p>
		Un documento XML puede empezar por unas líneas que describe la versión del XML, el tipo de documento y otras cosas.
		El prólogo no es obligatorio. <br>
		El prólogo puede incluir los siguientes apartados:
		<ul>
			<li>Declaración XML: declara que este documento es un XML.</li>
			<li>Declaración de tipo de documento: enlace del documento XML con su <a href="#DTD">DTD</a>. El DTD también puede
				estar incluido en el
				prólogo en
				lugar de hacer referencia a otro archivo.
			</li>
			<li>Comentario e instrucciones que ayuden a procesar el XML.</li>
		</ul>
		Un ejemplo de prólogo es:
		<pre style="border: solid 1px">
&lt;?xml version="1.0" encoding="UTF-8"?>
		</pre>
	</p>

	<h4>Cuerpo</h4>
	<p>
		<ul>
			<li>
				El cuerpo es obligatorio.
			</li>
			<li>
				Debe contener un solo elemento raíz (necesario para que esté bien formado).
			</li>
		</ul>
		<pre style="border:solid 1px">
&lt;Edit_mensaje>
    (...)
&lt;/Edit_mensaje>
		</pre>
	</p>

	<h4>Elementos</h4>
	<p>
		Los elementos XML pueden tener contenido del siguiente tipo:
		<ul>
			<li>Más elementos.</li>
			<li>Caracteres.</li>
			<li>Ambos.</li>
			<li>Estar vacío.</li>
		</ul>
	</p>

	<h4>Atributos</h4>
	<p>
		<ul>
			<li>Son una forma de añadirle propiedades a los elementos.</li>
			<li>Deben ir entre comillas.</li>
		</ul>
		Un ejemplo sería:
		<pre style="border: solid 1px">
&lt;Estudiante nombre="Francisco">Esto es un elemento estudiante que tiene un nombre&lt;/Estudiante>
		</pre>
	</p>

	<h4>Secciones CDATA</h4>
	<p>
		Es una construcción XML para indicar que ciertos caracteres no se tienen que interpretar como marcado XML. Esto nos
		permite poner
		datos con caracteres que normalmente romperian la estructura XML.
		<pre style="border: 1px solid">
&lt;![CDATA[contenido especial: \n áéíóúñ&]]>
</pre>
	</p>

	<h3>Validez</h3>
	<p>
		Que un documento XML esté "bien formado" se refiere a su estructura sintáctica básica, que esté formado por
		elementos,
		atributos y comentarios como XML indica que se haga. Pero cada aplicación de XML, es decir, cada lenguaje definido
		con esta
		tecnología tiene que definir cual es la relación que hay entre los elementos del documento. <br>
		Esta relación entre elemento podemos expresarla mediante:
		<ul>
			<li>
				Con un <a href="#DTD">DTD</a>, que puede estar en un archivo externo o puede estar en el
				<a href="#prologo">prólogo</a>.
			</li>
			<li>
				Con un XSchema.
			</li>
		</ul>
	</p>

	<h4>Declaración de entidades</h4>
	<p>
		En XML podemos usar entidades, que son objetos que no serán analizados sintacticamente según las reglas XML. Las entidades
		pueden ser:
		<ul>
			<li>Internas o externas.</li>
			<li>Analizadas o no analizadas.</li>
			<li>Generales o parametrizadas.</li>
		</ul>
	</p>
	<h4>Espacios de nombres</h4>
	<p>
		Los espacios de nombres XML nos permiten separar semánticamente los elementos que forman un XML. 
	</p>

	<h3>XSD (XML Schema Definition)</h3>
	<p>
		<ul>
			<li>Es un lenguaje de esquema escrito en XML.</li>
			<li>Pensado para proporcionar una mayor potencia y cmoplejidad que las DTD. Lsa DTD son menos formales a la hora de describir
				el documento.
			</li>
			<li>
				Los documentos esquemas tienen usualmente la extensión ".xsd" (XML Schema Definition).
			</li>
			<li>
				Con XML Schema somos capaces de definir estructuras más complejas de lo que somos capaces cno DTD.
			</li>
			<li>
				El principal aporte de XSD es la cantidad de tipos de datos que aporta. Aporta datos complejos como fechas, números y strings.
			</li>
			<li>
				XML Schema aporta más posiblidades y por tanto aumenta la funcionalidad de las aplicaciones. 
			</li>
		</ul>
	</p>

	<h4>Tipos de componentes</h4>
	<p>
		<ul>
			<li>Los XML Schemas fueron diseñados para superar los puntos débiles de DTD.</li>
			<li>Fue diseñado completamente alrededor de namespaces.</li>
			<li>Soporta tipos de datos típicos de la programación.</li>
			<li>Soporta tipos de datos personalizados tanto simples como complejos.</li>
			<li>Un esquema se define pensando en su uso final.</li>
		</ul>
	</p>

	<h4>Namespaces</h4>
	<p>
		<ul>
			<li>
				La programación en XML Schema se basa en namespaces (espacios de nombres).
			</li>
			<li>
				Podemos encontrar una analogía con los páquetes de Java.
			</li>
			<li>
				Cada namespace contiene elementos y atributos que están estrechamente relacionados con el namespace.
			</li>
			<li>
				A la hora de definir un elemento o un atributo de un namespace siempre se piensa en la relación que tiene con los demás
				elementos de ese namespace.
			</li>
		</ul>
	</p>

TODO: https://es.wikipedia.org/wiki/XML_Schema

	<h2>
		DOM y SAX
	</h2>
	<h2>
		Lenguajes usando XML: XSL, Xlink, etc
	</h2>

	TODO: https://es.wikipedia.org/wiki/Extensible_Markup_Language  (XML Schema)

	<script src="../js/testMode.js"></script>
</body>


</html>